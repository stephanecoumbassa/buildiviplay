{"version":3,"sources":["./src/app/services/security-incendie/security-incendie.component.scss","./src/app/services/security-incendie/security-incendie-routing.module.ts","./src/app/services/security-incendie/security-incendie.component.ts","./src/app/services/security-incendie/security-incendie.module.ts","./src/app/services/security-incendie/security-incendie.component.html"],"names":[],"mappings":"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","file":"services-security-incendie-security-incendie-module.js","sourcesContent":["export default \".map {\\n  width: 100%;\\n}\\n\\n#mapwize {\\n  position: absolute;\\n  top: 0;\\n  bottom: 0;\\n  width: 100%;\\n  height: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NlY3VyaXR5LWluY2VuZGllLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsV0FBQTtBQUNGOztBQUNBO0VBQ0Usa0JBQUE7RUFDQSxNQUFBO0VBQ0EsU0FBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0FBRUYiLCJmaWxlIjoic2VjdXJpdHktaW5jZW5kaWUuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubWFwe1xuICB3aWR0aDogMTAwJTtcbn1cbiNtYXB3aXplIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDA7XG4gIGJvdHRvbTogMDtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbn1cbiJdfQ== */\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport {SecurityIncendieComponent} from \"./security-incendie.component\";\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SecurityIncendieComponent\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SecurityIncendieRoutingModule {}\n","import {Component, ElementRef, OnInit} from '@angular/core';\nimport {Store} from \"@ngrx/store\";\nimport {Notification} from \"../../store/models/notification\";\nimport {TodoAdd} from \"../../store/actions/notification-action\";\nimport {AlertController, NavController} from \"@ionic/angular\";\nimport * as MapwizeUI from 'mapwize-ui';\nimport { GeneralFunctions } from '../general-functions';\n\n@Component({\n  selector: 'app-security-incendie',\n  templateUrl: './security-incendie.component.html',\n  styleUrls: ['./security-incendie.component.scss'],\n})\nexport class SecurityIncendieComponent implements OnInit {\n\n  notification = {\n    message :'Alerte Incendie'\n  };\n  class:any;\n  constructor(public store: Store<{notification: Notification[]}>,\n              public alertController: AlertController,\n              private navController: NavController,\n              private generalFunctions: GeneralFunctions) { }\n    \n\n  ngOnInit(){\n\n    this.addNotification(this.notification);\n\n    const options = {\n      apiKey: '6ee4fd2b3531c7b2609c77ca74ee5add',\n      centerOnVenueId: '5d8a191fb99124002d154c93',\n      preferredLanguage:'fr',\n      container: 'mapwize',\n      mainColor: '#ff0000',\n    };\n    MapwizeUI.map(options).then((map) => {\n      const mapwizeMap = map;\n      this.generalFunctions.mapCss(map,'/tabs/tab1')\n      this.direction(mapwizeMap);\n    });\n  }\n\n  addNotification(currentRoom ){\n    const newNotification = new Notification();\n    newNotification.notification = currentRoom;\n    this.store.dispatch(new TodoAdd(newNotification));\n    this.presentAlert();\n  }\n\n  direction(map){\n    return  MapwizeUI.Api.getDirection({\n      from: {\n        placeId:'5d8a1922618902a02a7c7053',\n        venueId: '5d8a191fb99124002d154c93'\n      },\n      to: {\n        placeId:'600012652be2a300165dae3e',\n        venueId: '5d8a191fb99124002d154c93'\n      },\n    }).then((direction)=>{\n      map.setDirection(direction);\n    });\n  }\n\n  async presentAlert() {\n    const alert = await this.alertController.create({\n      cssClass: 'my-custom-class',\n      header: 'Alerte Incendie',\n      subHeader: 'Veuillez ne pas paniquer',\n      message: 'Suivez les indications en respectant le marquage de sécurité.',\n      buttons: ['OK']\n    });\n\n    await alert.present();\n  }\n}\n","import {NgModule} from \"@angular/core\";\nimport {CommonModule} from \"@angular/common\";\nimport {FormsModule} from \"@angular/forms\";\nimport {IonicModule} from \"@ionic/angular\";\nimport {SecurityIncendieComponent} from \"./security-incendie.component\";\nimport {SecurityIncendieRoutingModule} from \"./security-incendie-routing.module\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SecurityIncendieRoutingModule\n  ],\n  declarations: [SecurityIncendieComponent]\n})\nexport class SecurityIncendieModule {}\n","export default \"<div class=\\\"map\\\">\\n  <div id=\\\"mapwize\\\"></div>\\n</div>\\n\";"],"sourceRoot":"webpack:///"}